# Add this code AFTER your existing QUESTIONS dictionary definition
# This will ADD the GATE 2025 questions to your existing questions

# GATE 2025 Questions to merge
GATE_2025_ADDITIONS = {
    'algorithms': [
        {
            'q': 'G: undirected graph with positive edge weights, T: minimum spanning tree. d1(u,v): shortest in G, d2(u,v): shortest in T. Which is CORRECT for all G,T,u,v?',
            'options': ['d1(u,v) = d2(u,v)', 'd1(u,v) ≤ d2(u,v)', 'd1(u,v) ≥ d2(u,v)', 'd1(u,v) ≠ d2(u,v)'],
            'answer': 1,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/62'
        },
        {
            'q': 'Undirected unweighted graph, 100 vertices. Max d(u,v) is 30. T is any BFS tree. Which is CORRECT for every such G?',
            'options': ['Height of T is exactly 15', 'Height of T is exactly 30', 'Height of T is at least 15', 'Height of T is at least 30'],
            'answer': 2,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/87'
        },
        {
            'q': 'Given an undirected graph G with positive edge weights and its MST T, the shortest path distance in G is always less than or equal to the distance in T.',
            'options': ['True for all graphs', 'False for all graphs', 'Depends on graph structure', 'Only true for complete graphs'],
            'answer': 0,
            'type': 'MCQ',
            'marks': 2,
            'img_url': None
        }
    ],
    
    'data_structures': [
        {
            'q': 'Recurrence: T(n) = 2T(n-1) + n·2^n for n>0, T(0)=1. Which is CORRECT?',
            'options': ['T(n) = Θ(n²·2^n)', 'T(n) = Θ(n·2^n)', 'T(n) = Θ((log n)²·2^n)', 'T(n) = Θ(4^n)'],
            'answer': 1,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/64'
        },
        {
            'q': 'Binary search tree with n distinct integers. Which statement(s) is/are TRUE?',
            'options': ['Maximum path length from root is (n-1)', 'Inorder traversal produces sorted sequence', 'Finding element takes O(log₂n) worst case', 'Every BST is also a Min-Heap'],
            'answer': [0, 1],
            'type': 'MSQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/70'
        },
        {
            'q': 'Min-Heap with 32 keys. What is the height of the tree (maximum edges from root to leaf)?',
            'options': ['3', '4', '5', '6'],
            'answer': 1,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/79'
        },
        {
            'q': 'A hash table uses double hashing with h1(k) = k mod 11 and h2(k) = 1 + (k mod 7). Table size is 11. Keys inserted in order: 63, 50, 25, 79, 67, 24. At which slot is key 24 stored?',
            'options': ['0', '1', '2', '3'],
            'answer': 2,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/109'
        }
    ],
    
    'operating_systems': [
        {
            'q': 'A program with interrupt handling: Steps are (i) Save PC (ii) Load PC with ISR address (iii) Finish current instruction. What is the CORRECT sequence?',
            'options': ['(iii), (i), (ii)', '(i), (iii), (ii)', '(i), (ii), (iii)', '(iii), (ii), (i)'],
            'answer': 0,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/55'
        },
        {
            'q': 'Demand paging: 32-bit logical address, 20-bit physical address, page size 2048 bytes. Maximum entries in page table?',
            'options': ['2^21', '2^20', '2^22', '2^24'],
            'answer': 0,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/58'
        },
        {
            'q': 'Two processors M1, M2. Four processes with CPU bursts 20, 16, 25, 10 ms arrive together. M1 priority: P1>P3>P2>P4. M2 priority: P2>P3>P4>P1. Non-preemptive priority scheduling. What is average waiting time?',
            'options': ['9.00 ms', '8.75 ms', '6.50 ms', '7.50 ms'],
            'answer': 1,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/82'
        },
        {
            'q': 'Memory hierarchy: L1 cache (1ns, 90% hit), L2 cache (10ns, 95% hit on L1 miss), Main memory (100ns). What is average memory access time?',
            'options': ['1.29 ns', '2.45 ns', '5.50 ns', '10.00 ns'],
            'answer': 0,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/97'
        }
    ],
    
    'databases': [
        {
            'q': 'Transaction schedule: R1(X) W1(Y) R2(X) R2(Y) R3(Y) ABORT(T1). Which transaction(s) must be rolled back?',
            'options': ['Only T2', 'Only T3', 'Both T2 and T3', 'Neither T2 nor T3'],
            'answer': 3,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/59'
        },
        {
            'q': 'Relations: teams(tid, tname), players(pid, pname, tid). Which tuple relational calculus query returns player names for team \'MI\'?',
            'options': [
                '{p.pname | p ∈ players ∧ ∃t(t ∈ teams ∧ p.tid = t.tid ∧ t.tname = \'MI\')}',
                '{p.pname | p ∈ teams ∧ ∃t(t ∈ players ∧ p.tid = t.tid ∧ t.tname = \'MI\')}',
                '{p.pname | p ∈ players ∧ ∃t(t ∈ teams ∧ t.tname = \'MI\')}',
                '{p.pname | p ∈ teams ∧ ∃t(t ∈ players ∧ t.tname = \'MI\')}'
            ],
            'answer': 0,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/83'
        },
        {
            'q': 'B+ tree with max 3 keys per node, currently 5 nodes. Value 23 is inserted. Which is/are CORRECT?',
            'options': ['No nodes will split', 'At least one node will split', 'Total nodes remain same', 'Height will increase'],
            'answer': [1, 2],
            'type': 'MSQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/65'
        },
        {
            'q': 'Relation team(name, city, owner) with FDs: name→city, name→owner. Decomposed to t1(name,city) and t2(name,owner). Which is/are TRUE?',
            'options': ['team NOT in BCNF', 't1 and t2 in BCNF', 'Lossless join decomposition', 'team NOT in 3NF'],
            'answer': [0, 1, 2],
            'type': 'MSQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/91'
        }
    ],
    
    'networks': [
        {
            'q': 'Match OSI layers: (a) Network layer (b) Transport layer (c) Datalink layer with (I) Packet routing (II) Framing/error handling (III) Host-to-host communication',
            'options': ['(a)-(I), (b)-(II), (c)-(III)', '(a)-(I), (b)-(III), (c)-(II)', '(a)-(II), (b)-(I), (c)-(III)', '(a)-(III), (b)-(II), (c)-(I)'],
            'answer': 1,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/60'
        },
        {
            'q': 'TCP 3-way handshake packets P1, P2, P3. Which is/are TRUE about TCP header flags?',
            'options': ['P3: SYN=1, ACK=1', 'P2: SYN=1, ACK=1', 'P2: SYN=0, ACK=1', 'P1: SYN=1'],
            'answer': [1, 3],
            'type': 'MSQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/66'
        },
        {
            'q': 'A packet with destination IP 145.36.109.70 arrives at a router. Based on the routing table with CIDR entries, which interface should it be forwarded to?',
            'options': ['E1', 'E2', 'E3', 'E5'],
            'answer': 2,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/84'
        },
        {
            'q': 'A 5-bit message is transmitted. Each bit has 0.01 probability of flipping (independent). What is probability of error-free delivery?',
            'options': ['0.990', '0.951', '0.900', '0.850'],
            'answer': 1,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/100'
        }
    ],
    
    'toc': [
        {
            'q': 'Context-free grammar: S→aaB|Abb, A→a|aA, B→b|bB. Which language L(G) is accepted?',
            'options': [
                '{a²b^n | n≥1} ∪ {a^n b² | n≥1}',
                '{a^n b^(2n) | n≥1} ∪ {a^(2n) b^n | n≥1}',
                '{a^n b^n | n≥1}',
                '{a^(2n) b^(2n) | n≥1}'
            ],
            'answer': 0,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/63'
        },
        {
            'q': 'Languages: L1={αβα | α∈{a,b}⁺, β∈{a,b}⁺}, L2={αβα | α∈{a}⁺, β∈{a,b}⁺}. Which is CORRECT?',
            'options': ['Both L1, L2 regular', 'L1 regular, L2 not', 'L1 not regular, L2 regular', 'Neither regular'],
            'answer': 2,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/88'
        },
        {
            'q': 'Languages: L1={a^m b^m c^(m+n) | m,n≥1}, L2={a^m b^n c^(m+n) | m,n≥1}. Which is CORRECT?',
            'options': ['Both context-free', 'L1 context-free, L2 not', 'L1 not context-free, L2 is', 'Neither context-free'],
            'answer': 2,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/89'
        },
        {
            'q': 'Regular language L accepted by NFA with n states. Which statement(s) is/are FALSE?',
            'options': ['L may have NFA with <n states', 'L may have DFA with <n states', 'DFA with ≤2^n states exists for L', 'Every DFA for L has >2^n states'],
            'answer': [3],
            'type': 'MSQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/72'
        }
    ],
    
    'digital_logic': [
        {
            'q': 'X is 3-variable Boolean function: outputs 1 when at least two inputs are 1. Which statement(s) is/are CORRECT?',
            'options': ['X(a,b,X(c,d,e)) = X(X(a,b,c),d,e)', 'X(a,b,X(a,b,c)) = X(a,b,c)', 'X(a,b,X(a,c,d)) = X(a,b,a) AND X(c,d,c)', 'X(a,b,c) = X(a,X(a,b,c),X(a,c,c))'],
            'answer': [0, 1],
            'type': 'MSQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/68'
        },
        {
            'q': 'Number -6 represented as 1010 in 4-bit 2\'s complement. Which is/are CORRECT 2\'s complement representations of -6?',
            'options': ['1000 1010 in 8-bits', '1111 1010 in 8-bits', '1000 0000 0000 1010 in 16-bits', '1111 1111 1111 1010 in 16-bits'],
            'answer': [1, 3],
            'type': 'MSQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/69'
        },
        {
            'q': 'Boolean function F(b3,b2,b1,b0) = Σ(0,2,4,8,10,11,12). Which is CORRECT minimized expression?',
            'options': ['b̄1·b̄0 + b̄2·b̄0 + b1·b̄2·b3', 'b̄1·b̄0 + b̄2·b̄0', 'b̄2·b̄0 + b1·b2·b3', 'b̄0·b̄2 + b̄3'],
            'answer': 0,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/86'
        }
    ],
    
    'compiler_design': [
        {
            'q': 'Which statement is FALSE regarding the symbol table?',
            'options': ['Keeps track of variable scope', 'Can be implemented using BST', 'Not required after parsing phase', 'Created during lexical analysis'],
            'answer': 2,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/56'
        },
        {
            'q': 'Which compiler optimization technique uses live variable analysis?',
            'options': ['Run-time function call management', 'Register assignment to variables', 'Strength reduction', 'Constant folding'],
            'answer': 1,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/57'
        },
        {
            'q': 'Which can be performed during lexical analysis?',
            'options': ['Removing comments', 'Checking type compatibility', 'Removing whitespaces', 'Detecting undeclared variables'],
            'answer': [0, 2],
            'type': 'MSQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/93'
        },
        {
            'q': 'Grammar: S → aSb | ab. Which statement is TRUE?',
            'options': ['Grammar is LL(1)', 'Grammar is ambiguous', 'Generates {a^n b^n | n≥1}', 'Grammar is left-recursive'],
            'answer': 2,
            'type': 'MCQ',
            'marks': 2,
            'img_url': None
        }
    ],
    
    'discrete_math': [
        {
            'q': 'Functions g:A→B, f:B→C, composition f(g(.)):A→C. If f and f(g(.)) are onto, what is TRUE about g?',
            'options': ['g must be onto', 'g must be one-to-one', 'g must be bijective', 'g not required to be one-to-one or onto'],
            'answer': 3,
            'type': 'MCQ',
            'marks': 1,
            'img_url': 'https://t.me/LLB_2024_25/44/61'
        },
        {
            'q': 'System: x + ky = 1, kx + y = -1. Which is/are CORRECT?',
            'options': ['Exactly one k with no solution', 'Infinite k values with no solution', 'Exactly one k with one solution', 'Exactly one k with infinite solutions'],
            'answer': [0, 3],
            'type': 'MSQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/67'
        },
        {
            'q': 'Matrix A = [[1,1],[1,-1]]. What are eigenvalues of A^13?',
            'options': ['1, -1', '2√2, -2√2', '4√2, -4√2', '64√2, -64√2'],
            'answer': 3,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/85'
        }
    ],
    
    'coa': [
        {
            'q': 'In 5-stage pipeline, data hazards can be resolved using:',
            'options': ['Forwarding only', 'Stalling only', 'Both forwarding and stalling', 'Neither'],
            'answer': 2,
            'type': 'MCQ',
            'marks': 2,
            'img_url': None
        },
        {
            'q': 'Memory: 1MB main, 16KB cache, 20-bit address, 16-byte blocks, direct mapping. How many bits for all tag values?',
            'options': ['6×2^10', '8×2^10', '2^12', '2^14'],
            'answer': 1,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/80'
        },
        {
            'q': 'Processor: 64 registers, 50 instruction types, 32-bit encoding. Max bits for immediate in ADD R1, #25?',
            'options': ['16', '20', '22', '24'],
            'answer': 1,
            'type': 'MCQ',
            'marks': 2,
            'img_url': 'https://t.me/LLB_2024_25/44/81'
        }
    ]
}

# MERGE FUNCTION - Add this to your code
def merge_gate_questions():
    """Merge GATE 2025 questions into existing QUESTIONS dictionary"""
    for topic, questions in GATE_2025_ADDITIONS.items():
        if topic in QUESTIONS:
            # Add to existing topic
            QUESTIONS[topic].extend(questions)
        else:
            # Create new topic
            QUESTIONS[topic] = questions
    print(f"✅ Successfully merged {sum(len(q) for q in GATE_2025_ADDITIONS.values())} GATE 2025 questions!")

# Call this function right after defining QUESTIONS
merge_gate_questions()

# Now your bot will have all the original + GATE 2025 questions!
